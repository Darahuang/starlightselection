(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b72b4d"],{1915:function(e,t,c){"use strict";function o(){window.pageYOffset>100&&window.scrollTo({top:0,behavior:"smooth"})}c.d(t,"a",(function(){return o}))},"1dde":function(e,t,c){var o=c("d039"),r=c("b622"),a=c("2d00"),n=r("species");e.exports=function(e){return a>=51||!o((function(){var t=[],c=t.constructor={};return c[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"3a5e":function(e,t,c){"use strict";var o=c("7a23"),r=Object(o["createVNode"])("div",{class:"bubblingG"},[Object(o["createVNode"])("span",{id:"bubblingG_1"}),Object(o["createVNode"])("span",{id:"bubblingG_2"}),Object(o["createVNode"])("span",{id:"bubblingG_3"})],-1);function a(e,t,c,a,n,l){var d=Object(o["resolveComponent"])("loading",!0);return Object(o["openBlock"])(),Object(o["createBlock"])(d,{active:c.isLoading},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["active"])}var n={props:{isLoading:{type:Boolean,default:!1}}};n.render=a;t["a"]=n},8418:function(e,t,c){"use strict";var o=c("c04e"),r=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var n=o(t);n in e?r.f(e,n,a(0,c)):e[n]=c}},"99af":function(e,t,c){"use strict";var o=c("23e7"),r=c("d039"),a=c("e8b5"),n=c("861d"),l=c("7b0b"),d=c("50c4"),s=c("8418"),i=c("65f0"),b=c("1dde"),u=c("b622"),j=c("2d00"),O=u("isConcatSpreadable"),p=9007199254740991,N="Maximum allowed index exceeded",V=j>=51||!r((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),h=b("concat"),f=function(e){if(!n(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},g=!V||!h;o({target:"Array",proto:!0,forced:g},{concat:function(e){var t,c,o,r,a,n=l(this),b=i(n,0),u=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?n:arguments[t],f(a)){if(r=d(a.length),u+r>p)throw TypeError(N);for(c=0;c<r;c++,u++)c in a&&s(b,u,a[c])}else{if(u>=p)throw TypeError(N);s(b,u++,a)}return b.length=u,b}})},b0c0:function(e,t,c){var o=c("83ab"),r=c("9bf2").f,a=Function.prototype,n=a.toString,l=/^\s*function ([^ (]*)/,d="name";o&&!(d in a)&&r(a,d,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(e){return""}}})},b275:function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),r={key:0,class:"container my-5"},a={class:"row justify-content-center"},n={class:"col-lg-8"},l=Object(o["createVNode"])("h2",{class:"topic mb-3"},"訂單細節",-1),d={class:"card mb-5 bg-primary-light"},s={class:"card-body"},i={class:"ms-3 d-flex flex-column flex-sm-row\n                  justify-content-sm-between align-items-start align-items-sm-center flex-grow-1"},b={class:"h5"},u={class:"card-footer bg-transparent text-end"},j=Object(o["createVNode"])("span",null,"訂單金額",-1),O={key:0,class:"fs-4 ms-3 text-primary fw-bold"},p=Object(o["createVNode"])("h2",{class:"topic mb-3"},"客戶資料",-1),N={class:"row justify-content-between border"},V={class:"col-lg-6"},h={class:"table payment-table table-borderless"},f=Object(o["createVNode"])("th",{style:{width:"120px"},class:"px-3"},"姓名:",-1),g=Object(o["createVNode"])("th",{style:{width:"120px"},class:"px-3"},"電話:",-1),m=Object(o["createVNode"])("th",{style:{width:"120px"},class:"px-3"},"信箱:",-1),y=Object(o["createVNode"])("th",{style:{width:"120px"},class:"px-3"},"地址:",-1),v=Object(o["createVNode"])("th",{style:{width:"120px"},class:"px-3"},"付款方式:",-1),k=Object(o["createVNode"])("th",{style:{width:"100px"},class:"px-3"},"付款狀態:",-1),x={key:0,class:"text-danger"},w={key:1},B=Object(o["createVNode"])("div",{class:"col-lg-6 d-none d-lg-block"},[Object(o["createVNode"])("div",{class:"user-bg bg-contain float-end bg-no-repeat"})],-1),S={key:1,class:"container position-relative my-md-5"},D=Object(o["createVNode"])("div",{class:"row justify-content-end"},[Object(o["createVNode"])("div",{class:"col-md-6 position-absolute bg-cover payment-bg"}),Object(o["createVNode"])("div",{class:"overlay-light"})],-1),_={class:"container"},C={class:"row align-items-center",style:{height:"100vh"}},L={class:"col-md-6 z-index"},T={class:"me-0 me-sm-5 py-3 py-md-0"},$=Object(o["createVNode"])("h2",{class:"mb-3"},[Object(o["createVNode"])("span",{class:"material-icons-outlined h2 align-middle paid-icon-color"}," paid "),Object(o["createTextVNode"])(" 付款完成 ")],-1),F=Object(o["createVNode"])("h3",{class:"h5 mb-3"},"行程資訊",-1),G={class:"table table-borderless"},q=Object(o["createVNode"])("th",{style:{width:"80px"},class:"fw-normal"},"行程名稱",-1),E=Object(o["createVNode"])("th",{style:{width:"80px"},class:"fw-normal"},"參加人數",-1),J=Object(o["createVNode"])("th",{style:{width:"80px"},class:"fw-normal"},"付款金額",-1),P=Object(o["createVNode"])("hr",null,null,-1),z=Object(o["createVNode"])("h3",{class:"h5"},"付款資訊",-1),A={class:"table table-borderless"},M=Object(o["createVNode"])("td",null,"姓名",-1),U=Object(o["createVNode"])("td",null,"連絡電話",-1),Y=Object(o["createVNode"])("td",null,"連絡地址",-1),H=Object(o["createVNode"])("td",{style:{width:"80px"}},"付款狀態",-1),I={key:0},K={key:1},Q=Object(o["createVNode"])("td",null,"付款日",-1),R=Object(o["createVNode"])("td",null,"付款方式",-1),W=Object(o["createTextVNode"])(" 挑選行程 ");function X(e,t,c,X,Z,ee){var te=Object(o["resolveComponent"])("Loading"),ce=Object(o["resolveComponent"])("CartStep"),oe=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(te,{isLoading:Z.isLoading},null,8,["isLoading"]),Z.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("section",S,[D,Object(o["createVNode"])("div",_,[Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",L,[Object(o["createVNode"])("div",T,[$,F,Object(o["createVNode"])("table",G,[Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(Z.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:t.id},[Object(o["createVNode"])("tr",null,[q,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.product.title),1)]),Object(o["createVNode"])("tr",null,[E,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.qty)+Object(o["toDisplayString"])(t.product.unit),1)]),Object(o["createVNode"])("tr",null,[J,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.$filters.dollarSignThousandth(t.final_total)),1)])],64)})),128))])]),P,z,Object(o["createVNode"])("table",A,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[M,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.name),1)]),Object(o["createVNode"])("tr",null,[U,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[Y,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.address),1)]),Object(o["createVNode"])("tr",null,[H,Object(o["createVNode"])("td",null,[Z.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("span",I,"已付款")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",K,"未付款"))])]),Object(o["createVNode"])("tr",null,[Q,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.$filters.date(Z.order.paid_date)),1)]),Object(o["createVNode"])("tr",null,[R,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.payment_method),1)])])]),Object(o["createVNode"])(oe,{to:"/products",class:"btn btn-slide-right float-end border-0  px-md-5\n             btn-position"},{default:Object(o["withCtx"])((function(){return[W]})),_:1})])])])])])):(Object(o["openBlock"])(),Object(o["createBlock"])("section",r,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])(ce,{done:Z.done},null,8,["done"]),l,Object(o["createVNode"])("div",d,[Object(o["createVNode"])("div",s,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(Z.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:t.id,class:"d-flex align-items-center mb-3"},[Object(o["createVNode"])("img",{src:t.product.imageUrl,alt:"產品圖片",style:{width:"100px",height:"100px"}},null,8,["src"]),Object(o["createVNode"])("div",i,[Object(o["createVNode"])("h3",b,Object(o["toDisplayString"])(t.product.title)+" *"+Object(o["toDisplayString"])(t.qty)+Object(o["toDisplayString"])(t.product.unit),1),Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.$filters.dollarSignThousandth(t.final_total)),1)])])})),128))]),Object(o["createVNode"])("div",u,[j,Z.order.total?(Object(o["openBlock"])(),Object(o["createBlock"])("span",O,Object(o["toDisplayString"])(e.$filters.dollarSignThousandth(Z.order.total)),1)):Object(o["createCommentVNode"])("",!0)])]),p,Object(o["createVNode"])("div",N,[Object(o["createVNode"])("div",V,[Object(o["createVNode"])("table",h,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[f,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.name),1)]),Object(o["createVNode"])("tr",null,[g,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[m,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.email),1)]),Object(o["createVNode"])("tr",null,[y,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.address),1)]),Object(o["createVNode"])("tr",null,[v,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(Z.order.user.payment_method),1)]),Object(o["createVNode"])("tr",null,[k,Object(o["createVNode"])("td",null,[Z.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("span",w,"已付款")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",x,"未付款"))])])])])]),B]),Object(o["createVNode"])("button",{class:"btn btn-primary btn-slide-right border-0 py-2 px-5 float-end mt-3",type:"button",onClick:t[1]||(t[1]=function(){return ee.pay&&ee.pay.apply(ee,arguments)})}," 確認付款 ")])])]))],64)}c("99af");var Z=c("3a5e"),ee=c("ce4a"),te=c("1915"),ce={data:function(){return{id:"",order:{user:{}},isLoading:!1,done:this.$route.name}},components:{Loading:Z["a"],CartStep:ee["a"]},inject:["Toast"],methods:{getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("starlightselection","/order/").concat(this.id);this.isLoading=!0,this.axios.get(t).then((function(t){t.data.success?e.order=t.data.order:e.Toast.fire({icon:"error",title:"".concat(t.data.message)}),Object(te["a"])(),e.isLoading=!1})).catch((function(){e.Toast.fire({icon:"error",title:"無法取得訂單，請再次確認!"}),e.isLoading=!1}))},pay:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("starlightselection","/pay/").concat(this.id);this.axios.post(t).then((function(t){t.data.success?e.getOrder():e.Toast.fire({icon:"error",title:"".concat(t.data.message)})})).catch((function(){e.Toast.fire({icon:"error",title:"無法付款，請再次確認!"}),e.isLoading=!1}))}},created:function(){this.id=this.$route.params.id,this.getOrder()}};ce.render=X;t["default"]=ce},ce4a:function(e,t,c){"use strict";var o=c("7a23"),r={class:"container mb-5"},a={class:"row position-relative"},n={class:"col"},l=Object(o["createVNode"])("span",{class:"material-icons-outlined align-middle fs-3"}," shopping_bag ",-1),d=Object(o["createVNode"])("p",{class:"cart-text"},"確認購物車",-1),s={class:"col"},i=Object(o["createVNode"])("span",{class:"material-icons-outlined align-middle fs-3"}," list_alt ",-1),b=Object(o["createVNode"])("p",{class:"cart-text"},"填寫資料",-1),u={class:"col"},j=Object(o["createVNode"])("span",{class:"material-icons-outlined align-middle fs-3"}," local_atm ",-1),O=Object(o["createVNode"])("p",{class:"cart-text"},"確認訂單",-1),p={class:"cart-line"};function N(e,t,c,N,V,h){return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("div",{class:["cart-step",{"cart-done":"Carts"===c.done||h.step2||h.step3}]},[l],2),d]),Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",{class:["cart-step",{"cart-done":"Checkout"===c.done||h.step3}]},[i],2),b]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("div",{class:["cart-step",{"cart-done":"Payment"===c.done}]},[j],2),O]),Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",{class:{"cart-line-step2":h.step2,"cart-line-step3":h.step3}},null,2)])])])}var V={props:{done:{type:String}},computed:{step2:function(){return"Checkout"===this.done},step3:function(){return"Payment"===this.done}}};V.render=N;t["a"]=V}}]);
//# sourceMappingURL=chunk-65b72b4d.900f6092.js.map