(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3019cc06"],{"057f":function(t,e,n){var r=n("fc6a"),o=n("241c").f,c={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==c.call(t)?a(t):o(r(t))}},1915:function(t,e,n){"use strict";function r(){window.pageYOffset>100&&window.scrollTo({top:0,behavior:"smooth"})}n.d(e,"a",(function(){return r}))},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),c=n("2d00"),i=o("species");t.exports=function(t){return c>=51||!r((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3a5e":function(t,e,n){"use strict";var r=n("7a23"),o=Object(r["createVNode"])("div",{class:"bubblingG"},[Object(r["createVNode"])("span",{id:"bubblingG_1"}),Object(r["createVNode"])("span",{id:"bubblingG_2"}),Object(r["createVNode"])("span",{id:"bubblingG_3"})],-1);function c(t,e,n,c,i,a){var s=Object(r["resolveComponent"])("loading",!0);return Object(r["openBlock"])(),Object(r["createBlock"])(s,{active:n.isLoading},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["active"])}var i={props:{isLoading:{type:Boolean,default:!1}}};i.render=c;e["a"]=i},"51a3":function(t,e,n){"use strict";var r={save:function(t){var e=JSON.stringify(t);localStorage.setItem("favorite",e)},get:function(){return JSON.parse(localStorage.getItem("favorite"))}};e["a"]=r},"746f":function(t,e,n){var r=n("428f"),o=n("5135"),c=n("e538"),i=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||i(e,t,{value:c.f(t)})}},"7db0":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").find,c=n("44d2"),i="find",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(i)},8418:function(t,e,n){"use strict";var r=n("c04e"),o=n("9bf2"),c=n("5c6c");t.exports=function(t,e,n){var i=r(e);i in t?o.f(t,i,c(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),c=n("e8b5"),i=n("861d"),a=n("7b0b"),s=n("50c4"),d=n("8418"),u=n("65f0"),f=n("1dde"),l=n("b622"),b=n("2d00"),p=l("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",h=b>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=f("concat"),y=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},O=!h||!m;r({target:"Array",proto:!0,forced:O},{concat:function(t){var e,n,r,o,c,i=a(this),f=u(i,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(c=-1===e?i:arguments[e],y(c)){if(o=s(c.length),l+o>g)throw TypeError(v);for(n=0;n<o;n++,l++)n in c&&d(f,l,c[n])}else{if(l>=g)throw TypeError(v);d(f,l++,c)}return f.length=l,f}})},a434:function(t,e,n){"use strict";var r=n("23e7"),o=n("23cb"),c=n("a691"),i=n("50c4"),a=n("7b0b"),s=n("65f0"),d=n("8418"),u=n("1dde"),f=u("splice"),l=Math.max,b=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,u,f,v,h,m=a(this),y=i(m.length),O=o(t,y),j=arguments.length;if(0===j?n=r=0:1===j?(n=0,r=y-O):(n=j-2,r=b(l(c(e),0),y-O)),y+n-r>p)throw TypeError(g);for(u=s(m,r),f=0;f<r;f++)v=O+f,v in m&&d(u,f,m[v]);if(u.length=r,n<r){for(f=O;f<y-r;f++)v=f+r,h=f+n,v in m?m[h]=m[v]:delete m[h];for(f=y;f>y-r+n;f--)delete m[f-1]}else if(n>r)for(f=y-r;f>O;f--)v=f+r-1,h=f+n-1,v in m?m[h]=m[v]:delete m[h];for(f=0;f<n;f++)m[f+O]=arguments[f+2];return m.length=y-r+n,u}})},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),c=n("d066"),i=n("c430"),a=n("83ab"),s=n("4930"),d=n("fdbf"),u=n("d039"),f=n("5135"),l=n("e8b5"),b=n("861d"),p=n("825a"),g=n("7b0b"),v=n("fc6a"),h=n("c04e"),m=n("5c6c"),y=n("7c73"),O=n("df75"),j=n("241c"),w=n("057f"),N=n("7418"),S=n("06cf"),k=n("9bf2"),x=n("d1e7"),V=n("9112"),B=n("6eeb"),T=n("5692"),C=n("f772"),F=n("d012"),I=n("90e3"),L=n("b622"),P=n("e538"),E=n("746f"),_=n("d44e"),A=n("69f3"),J=n("b727").forEach,D=C("hidden"),M="Symbol",G="prototype",$=L("toPrimitive"),q=A.set,Q=A.getterFor(M),U=Object[G],W=o.Symbol,Y=c("JSON","stringify"),z=S.f,H=k.f,K=w.f,R=x.f,X=T("symbols"),Z=T("op-symbols"),tt=T("string-to-symbol-registry"),et=T("symbol-to-string-registry"),nt=T("wks"),rt=o.QObject,ot=!rt||!rt[G]||!rt[G].findChild,ct=a&&u((function(){return 7!=y(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=z(U,e);r&&delete U[e],H(t,e,n),r&&t!==U&&H(U,e,r)}:H,it=function(t,e){var n=X[t]=y(W[G]);return q(n,{type:M,tag:t,description:e}),a||(n.description=e),n},at=d?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},st=function(t,e,n){t===U&&st(Z,e,n),p(t);var r=h(e,!0);return p(n),f(X,r)?(n.enumerable?(f(t,D)&&t[D][r]&&(t[D][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(t,D)||H(t,D,m(1,{})),t[D][r]=!0),ct(t,r,n)):H(t,r,n)},dt=function(t,e){p(t);var n=v(e),r=O(n).concat(pt(n));return J(r,(function(e){a&&!ft.call(n,e)||st(t,e,n[e])})),t},ut=function(t,e){return void 0===e?y(t):dt(y(t),e)},ft=function(t){var e=h(t,!0),n=R.call(this,e);return!(this===U&&f(X,e)&&!f(Z,e))&&(!(n||!f(this,e)||!f(X,e)||f(this,D)&&this[D][e])||n)},lt=function(t,e){var n=v(t),r=h(e,!0);if(n!==U||!f(X,r)||f(Z,r)){var o=z(n,r);return!o||!f(X,r)||f(n,D)&&n[D][r]||(o.enumerable=!0),o}},bt=function(t){var e=K(v(t)),n=[];return J(e,(function(t){f(X,t)||f(F,t)||n.push(t)})),n},pt=function(t){var e=t===U,n=K(e?Z:v(t)),r=[];return J(n,(function(t){!f(X,t)||e&&!f(U,t)||r.push(X[t])})),r};if(s||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===U&&n.call(Z,t),f(this,D)&&f(this[D],e)&&(this[D][e]=!1),ct(this,e,m(1,t))};return a&&ot&&ct(U,e,{configurable:!0,set:n}),it(e,t)},B(W[G],"toString",(function(){return Q(this).tag})),B(W,"withoutSetter",(function(t){return it(I(t),t)})),x.f=ft,k.f=st,S.f=lt,j.f=w.f=bt,N.f=pt,P.f=function(t){return it(L(t),t)},a&&(H(W[G],"description",{configurable:!0,get:function(){return Q(this).description}}),i||B(U,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),J(O(nt),(function(t){E(t)})),r({target:M,stat:!0,forced:!s},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var n=W(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:ut,defineProperty:st,defineProperties:dt,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:bt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:u((function(){N.f(1)}))},{getOwnPropertySymbols:function(t){return N.f(g(t))}}),Y){var gt=!s||u((function(){var t=W();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));r({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var r,o=[t],c=1;while(arguments.length>c)o.push(arguments[c++]);if(r=e,(b(e)||void 0!==t)&&!at(t))return l(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),o[1]=e,Y.apply(null,o)}})}W[G][$]||V(W[G],$,W[G].valueOf),_(W,M),F[D]=!0},c740:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,c=n("44d2"),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(i)},cdfb:function(t,e,n){"use strict";n.r(e);n("7db0"),n("a4d3"),n("e01a");var r=n("7a23"),o={key:0,class:"container my-5"},c=Object(r["createVNode"])("h2",{class:"text-center text-primary fw-bold h1 mb-4"},[Object(r["createVNode"])("span",{class:"material-icons-outlined h1 align-middle text-secondary"}," favorite "),Object(r["createTextVNode"])(" 收藏清單 ")],-1),i={class:"row justify-content-center"},a={class:"col-md-10"},s={class:"row"},d={class:"card h-100 cursor products-card border-0"},u={class:"overflow-hidden"},f={key:0,class:"material-icons-outlined text-danger"},l={key:1,class:"material-icons-outlined text-danger"},b={class:"badge bg-secondary badge-position p-2"},p={class:"card-title h4"},g={class:"card-text"},v={class:"h5 text-danger"},h={class:"mt-2 text-center"},m={key:0,class:"spinner-border text-white spinner-border-sm",role:"status"},y=Object(r["createVNode"])("span",{class:"visually-hidden"},"Loading...",-1),O=Object(r["createTextVNode"])(" 加入購物車 "),j={key:1,class:"container"},w={class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},N=Object(r["createVNode"])("div",{class:"favorite-img bg-contain bg-no-repeat"},null,-1),S=Object(r["createVNode"])("p",{class:"fw-bold h4 text-center mb-4"},[Object(r["createTextVNode"])(" 收藏清單目前沒有商品，"),Object(r["createVNode"])("br"),Object(r["createTextVNode"])(" 立刻挑選喜愛的行程吧！ ")],-1),k=Object(r["createTextVNode"])(" 挑選行程 ");function x(t,e,n,x,V,B){var T=Object(r["resolveComponent"])("Loading"),C=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(T,{isLoading:V.isLoading},null,8,["isLoading"]),0!==V.myFavorite.length?(Object(r["openBlock"])(),Object(r["createBlock"])("section",o,[c,Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",a,[Object(r["createVNode"])("div",s,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(V.myFavorite,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-md-4",key:e.id},[Object(r["createVNode"])("div",d,[Object(r["createVNode"])("div",u,[Object(r["createVNode"])("img",{src:e.imageUrl,class:"products-card-img position-relative",alt:"產品圖片",onClick:function(t){return B.toProduct(e.id)}},null,8,["src","onClick"])]),Object(r["createVNode"])("div",{class:"favoriteIcon-position p-2",onClick:function(t){return B.removeFavorite(e)}},[V.myFavorite.find((function(t){return t.title===e.title}))?(Object(r["openBlock"])(),Object(r["createBlock"])("span",f," favorite ")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",l," favorite_border "))],8,["onClick"]),Object(r["createVNode"])("span",b,Object(r["toDisplayString"])(e.category),1),Object(r["createVNode"])("div",{class:"card-body text-center",onClick:function(t){return B.toProduct(e.id)}},[Object(r["createVNode"])("h2",p,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("p",g,Object(r["toDisplayString"])(e.description),1),Object(r["createVNode"])("p",v,Object(r["toDisplayString"])(t.$filters.dollarSignThousandth(e.price)),1)],8,["onClick"]),Object(r["createVNode"])("div",h,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-slide-right btn-rounded col-6 p-2 border-0",onClick:function(t){return B.addToCart(e.id)},disabled:V.loadingStatus.loadingItem===e.id},[V.loadingStatus.loadingItem===e.id?(Object(r["openBlock"])(),Object(r["createBlock"])("div",m,[y])):Object(r["createCommentVNode"])("",!0),O],8,["onClick","disabled"])])])])})),128))])])])])):(Object(r["openBlock"])(),Object(r["createBlock"])("section",j,[Object(r["createVNode"])("div",w,[N,S,Object(r["createVNode"])(C,{to:"/products",class:"btn btn-slide-right border-0 px-5 py-2 btn-rounded"},{default:Object(r["withCtx"])((function(){return[k]})),_:1})])]))],64)}n("c740"),n("a434"),n("99af");var V=n("cfb9"),B=n("51a3"),T=n("3a5e"),C=n("1915"),F={data:function(){return{myFavorite:B["a"].get()||[],loadingStatus:{loadingItem:""},isLoading:!1}},components:{Loading:T["a"]},inject:["Toast"],methods:{removeFavorite:function(t){var e=this.myFavorite.findIndex((function(e){return e.id===t.id}));this.myFavorite.splice(e,1),this.Toast.fire({icon:"warning",title:"".concat(t.title,"從我的最愛移出")})},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("starlightselection","/cart");this.isLoading=!0,this.loadingStatus.loadingItem=t;var o={product_id:t,qty:n};this.axios.post(r,{data:o}).then((function(t){t.data.success?(V["a"].emit("emit-carts"),e.Toast.fire({icon:"success",title:"".concat(t.data.message)})):e.Toast.fire({icon:"error",title:"".concat(t.data.message)}),e.isLoading=!1,e.loadingStatus.loadingItem=""})).catch((function(){e.Toast.fire({icon:"error",title:"無法取得購物車內容，請再次確認!"}),e.isLoading=!1}))},toProduct:function(t){this.$router.push("/product/".concat(t))}},watch:{myFavorite:{handler:function(){B["a"].save(this.myFavorite)},deep:!0}},created:function(){Object(C["a"])()}};F.render=x;e["default"]=F},cfb9:function(t,e,n){"use strict";var r=function(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}},o=r();e["a"]=o},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),c=n("da84"),i=n("5135"),a=n("861d"),s=n("9bf2").f,d=n("e893"),u=c.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};d(l,u);var b=l.prototype=u.prototype;b.constructor=l;var p=b.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;s(b,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=p.call(t);if(i(f,t))return"";var n=g?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:l})}},e538:function(t,e,n){var r=n("b622");e.f=r}}]);
//# sourceMappingURL=chunk-3019cc06.bbb89f52.js.map